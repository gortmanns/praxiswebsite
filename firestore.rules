/**
 * @fileoverview Firestore Security Rules for the application.
 *
 * Core Philosophy:
 * This ruleset enforces open read access to all collections, allowing anyone to view the data.
 * Write access to all collections is completely denied, ensuring that only authorized backend processes can modify the data.
 *
 * Data Structure:
 * The Firestore database consists of several top-level collections: 'doctors', 'staff', 'medicalPartners',
 * 'otherPartners', 'holidays', and a 'settings' collection with a 'banners' document.
 *
 * Key Security Decisions:
 * - All data is publicly readable, including all collections and documents.
 * - No user-based authorization is implemented for data writes. All write access is denied.
 * - The 'settings/banners' document is treated the same as other collections, with public read access and denied write access.
 *
 */
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /**
     * @description Allows anyone to read doctor profiles. Denies all writes.
     * @path /doctors/{doctorId}
     * @allow (get, list) Anyone can read.
     * @deny (create, update, delete) No one can write.
     * @principle Allows public read access, denies all write access.
     */
    match /doctors/{doctorId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Allows anyone to read staff member profiles. Denies all writes.
     * @path /staff/{staffMemberId}
     * @allow (get, list) Anyone can read.
     * @deny (create, update, delete) No one can write.
     * @principle Allows public read access, denies all write access.
     */
    match /staff/{staffMemberId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Allows anyone to read medical partner information. Denies all writes.
     * @path /medicalPartners/{partnerId}
     * @allow (get, list) Anyone can read.
     * @deny (create, update, delete) No one can write.
     * @principle Allows public read access, denies all write access.
     */
    match /medicalPartners/{partnerId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Allows anyone to read other partner information. Denies all writes.
     * @path /otherPartners/{partnerId}
     * @allow (get, list) Anyone can read.
     * @deny (create, update, delete) No one can write.
     * @principle Allows public read access, denies all write access.
     */
    match /otherPartners/{partnerId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Allows anyone to read holiday information. Denies all writes.
     * @path /holidays/{holidayId}
     * @allow (get, list) Anyone can read.
     * @deny (create, update, delete) No one can write.
     * @principle Allows public read access, denies all write access.
     */
    match /holidays/{holidayId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Allows anyone to read banner settings. Denies all writes.
     * @path /settings/banners
     * @allow (get, list) Anyone can read.
     * @deny (create, update, delete) No one can write.
     * @principle Allows public read access, denies all write access.
     */
    match /settings/banners {
      allow get, list: if true;
      allow create, update, delete: if false;
    }
  }
}