/**
 * @file Firestore Security Rules
 * @description This ruleset configures access control for the application's Firestore database.
 *
 * Core Philosophy:
 * The ruleset provides public read access to the `doctors`, `staff`, `medicalPartners`, and `otherPartners` collections,
 * but restricts write access to prevent unauthorized data modification.
 *
 * Data Structure:
 * The database consists of four main collections at the root level: `doctors`, `staff`, `medicalPartners`, and `otherPartners`.
 * Each collection stores documents representing entities like doctors, staff members, and partners.
 *
 * Key Security Decisions:
 * - Read access is public for all collections (`get` and `list` are allowed for all users).
 * - Write access is denied for all collections. This ensures that only authorized backend processes can modify the data.
 * - No user-specific data or ownership models are enforced, as the data is intended for public consumption.
 */
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /**
     * @description Allows anyone to read the list of doctors. Write operations are denied.
     * @path /databases/{database}/documents/doctors
     * @allow (get, list): Any user can read the data.
     * @deny (create, update, delete): No user can modify the data.
     * @principle Allows public read access while preventing unauthorized writes.
     */
    match /doctors/{doctorId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Allows anyone to read the list of staff members. Write operations are denied.
     * @path /databases/{database}/documents/staff
     * @allow (get, list): Any user can read the data.
     * @deny (create, update, delete): No user can modify the data.
     * @principle Allows public read access while preventing unauthorized writes.
     */
    match /staff/{staffId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Allows anyone to read the list of medical partners. Write operations are denied.
     * @path /databases/{database}/documents/medicalPartners
     * @allow (get, list): Any user can read the data.
     * @deny (create, update, delete): No user can modify the data.
     * @principle Allows public read access while preventing unauthorized writes.
     */
    match /medicalPartners/{medicalPartnerId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Allows anyone to read the list of other partners. Write operations are denied.
     * @path /databases/{database}/documents/otherPartners
     * @allow (get, list): Any user can read the data.
     * @deny (create, update, delete): No user can modify the data.
     * @principle Allows public read access while preventing unauthorized writes.
     */
    match /otherPartners/{otherPartnerId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Allows anyone to read the list of holidays. Write operations are denied.
     * @path /databases/{database}/documents/holidays
     * @allow (get, list): Any user can read the data.
     * @deny (create, update, delete): No user can modify the data.
     * @principle Allows public read access while preventing unauthorized writes.
     */
    match /holidays/{holidayId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }
  }
}