/**
 * @fileoverview Firestore Security Rules for Prototyping.
 *
 * Core Philosophy:
 * This ruleset allows public read access to all collections while restricting write access.
 * Write operations (create, update, delete) are denied to all users. This enables rapid
 * prototyping and data exploration while preventing accidental or malicious data modification.
 *
 * Data Structure:
 * The Firestore database consists of several top-level collections:
 * - /doctors: Stores doctor profile information.
 * - /staff: Stores practice staff member profiles.
 * - /medicalPartners: Stores medical cooperation partner information.
 * - /otherPartners: Stores other cooperation partner information.
 * - /holidays: Stores practice holiday periods.
 * - /infoBanners: Stores multiple custom info banners (blue).
 * - /settings/banners: A single document that stores all settings for the holiday banners.
 *
 * Key Security Decisions:
 * - Public read access: All authenticated and unauthenticated users can read all data.
 * - No write access: No users are permitted to create, update, or delete any data.
 * - No schema validation: Data types and required fields are not enforced during write operations.
 */
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /**
     * @description Allows public read access to doctor profiles. Denies all write operations.
     * @path /databases/{database}/documents/doctors
     * @allow (get, list) Any user (authenticated or unauthenticated) can read doctor profiles.
     * @deny (create, update, delete) No user can modify doctor profiles.
     * @principle Allows public reads, restricts all writes for prototyping.
     */
    match /doctors/{doctorId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Allows public read access to staff member profiles. Denies all write operations.
     * @path /databases/{database}/documents/staff
     * @allow (get, list) Any user (authenticated or unauthenticated) can read staff profiles.
     * @deny (create, update, delete) No user can modify staff profiles.
     * @principle Allows public reads, restricts all writes for prototyping.
     */
    match /staff/{staffMemberId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Allows public read access to medical partner information. Denies all write operations.
     * @path /databases/{database}/documents/medicalPartners
     * @allow (get, list) Any user (authenticated or unauthenticated) can read medical partner information.
     * @deny (create, update, delete) No user can modify medical partner information.
     * @principle Allows public reads, restricts all writes for prototyping.
     */
    match /medicalPartners/{medicalPartnerId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Allows public read access to other partner information. Denies all write operations.
     * @path /databases/{database}/documents/otherPartners
     * @allow (get, list) Any user (authenticated or unauthenticated) can read other partner information.
     * @deny (create, update, delete) No user can modify other partner information.
     * @principle Allows public reads, restricts all writes for prototyping.
     */
    match /otherPartners/{otherPartnerId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Allows public read access to holiday periods. Denies all write operations.
     * @path /databases/{database}/documents/holidays
     * @allow (get, list) Any user (authenticated or unauthenticated) can read holiday periods.
     * @deny (create, update, delete) No user can modify holiday periods.
     * @principle Allows public reads, restricts all writes for prototyping.
     */
    match /holidays/{holidayId} {
        allow get, list: if true;
        allow create, update, delete: if false;
    }

    /**
     * @description Allows public read access to info banners. Denies all write operations.
     * @path /databases/{database}/documents/infoBanners
     * @allow (get, list) Any user (authenticated or unauthenticated) can read info banners.
     * @deny (create, update, delete) No user can modify info banners.
     * @principle Allows public reads, restricts all writes for prototyping.
     */
    match /infoBanners/{infoBannerId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

     /**
      * @description Allows public read access to banner settings. Denies all write operations.
      * @path /databases/{database}/documents/settings/banners
      * @allow (get, list) Any user (authenticated or unauthenticated) can read banner settings.
      * @deny (create, update, delete) No user can modify banner settings.
      * @principle Allows public reads, restricts all writes for prototyping.
      */
    match /settings/banners {
        allow get, list: if true;
        allow create, update, delete: if false;
    }
  }
}